const header=document.querySelector("header");const menuToggle=document.getElementById("menuToggle");const navLinks=document.getElementById("navLinks");const contactForm=document.getElementById("contactForm");const faqItems=document.querySelectorAll(".faq-item");let lastScroll=0;window.addEventListener("scroll",(()=>{const currentScroll=window.pageYOffset;const scrollThreshold=50;if(currentScroll>scrollThreshold){header.classList.add("scrolled")}else{header.classList.remove("scrolled")}if(currentScroll<=scrollThreshold){header.classList.remove("hide");return}if(currentScroll>lastScroll&&!header.classList.contains("hide")){header.classList.add("hide")}else if(currentScroll<lastScroll&&header.classList.contains("hide")){header.classList.remove("hide")}lastScroll=currentScroll}));menuToggle.addEventListener("click",(()=>{const expanded=navLinks.classList.toggle("active");menuToggle.classList.toggle("active");menuToggle.setAttribute("aria-expanded",expanded);if(!expanded)menuToggle.focus()}));navLinks.addEventListener("click",(e=>{if(e.target.tagName==="A"&&navLinks.classList.contains("active")){navLinks.classList.remove("active");menuToggle.classList.remove("active");menuToggle.setAttribute("aria-expanded","false")}}));document.addEventListener("click",(e=>{if(!e.target.closest("nav")&&navLinks.classList.contains("active")){navLinks.classList.remove("active");menuToggle.classList.remove("active");menuToggle.setAttribute("aria-expanded","false")}}));document.querySelectorAll('a[href^="#"]').forEach((anchor=>{anchor.addEventListener("click",(function(e){e.preventDefault();const target=document.querySelector(this.getAttribute("href"));if(target){target.scrollIntoView({behavior:"smooth",block:"start"})}}))}));const sections=document.querySelectorAll("section");const navItems=document.querySelectorAll(".nav-links a");window.addEventListener("scroll",(()=>{let current="";sections.forEach((section=>{const sectionTop=section.offsetTop;const sectionHeight=section.clientHeight;if(pageYOffset>=sectionTop-sectionHeight/3){current=section.getAttribute("id")}}));navItems.forEach((item=>{item.classList.remove("active");if(item.getAttribute("href").substring(1)===current){item.classList.add("active")}}))}));faqItems.forEach(((item,idx)=>{const question=item.querySelector(".faq-question");const answer=item.querySelector(".faq-answer");question.addEventListener("click",(()=>{const isActive=item.classList.contains("active");faqItems.forEach(((faqItem,i)=>{faqItem.classList.remove("active");faqItem.querySelector(".faq-question").setAttribute("aria-expanded","false");faqItem.querySelector(".faq-answer").setAttribute("aria-hidden","true")}));if(!isActive){item.classList.add("active");question.setAttribute("aria-expanded","true");answer.setAttribute("aria-hidden","false")}}));question.addEventListener("keydown",(e=>{if(e.key==="Enter"||e.key===" "){e.preventDefault();question.click()}if(e.key==="ArrowDown"){e.preventDefault();const next=faqItems[idx+1]?.querySelector(".faq-question");if(next)next.focus()}if(e.key==="ArrowUp"){e.preventDefault();const prev=faqItems[idx-1]?.querySelector(".faq-question");if(prev)prev.focus()}}))}));if(contactForm){contactForm.addEventListener("submit",(async e=>{e.preventDefault();const formData=new FormData(contactForm);const data=Object.fromEntries(formData);if(!data.name||!data.email||!data.message){showNotification("Please fill in all required fields","error");return}const emailRegex=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!emailRegex.test(data.email)){showNotification("Please enter a valid email address","error");return}try{await new Promise((resolve=>setTimeout(resolve,1e3)));showNotification("Thank you for your message! We'll get back to you soon.","success");contactForm.reset()}catch(error){showNotification("Something went wrong. Please try again later.","error")}}))}function showNotification(message,type="success"){const notification=document.createElement("div");notification.className=`notification ${type}`;notification.textContent=message;document.body.appendChild(notification);const formNotification=document.getElementById("form-notification");if(formNotification){formNotification.textContent=message}setTimeout((()=>{notification.classList.add("show")}),10);setTimeout((()=>{notification.classList.remove("show");setTimeout((()=>{notification.remove()}),300);if(formNotification){formNotification.textContent=""}}),3e3)}const observerOptions={root:null,rootMargin:"0px",threshold:.1};const observer=new IntersectionObserver((entries=>{entries.forEach((entry=>{if(entry.isIntersecting){entry.target.classList.add("animate");observer.unobserve(entry.target)}}))}),observerOptions);document.querySelectorAll(".service-card, .portfolio-item, .team-member, .testimonial-card").forEach((element=>{observer.observe(element)}));const style=document.createElement("style");style.textContent=`\n    .notification {\n        position: fixed;\n        bottom: 20px;\n        right: 20px;\n        padding: 15px 25px;\n        border-radius: 8px;\n        color: white;\n        font-weight: 500;\n        transform: translateY(100px);\n        opacity: 0;\n        transition: all 0.3s ease;\n        z-index: 1000;\n    }\n    \n    .notification.show {\n        transform: translateY(0);\n        opacity: 1;\n    }\n    \n    .notification.success {\n        background: linear-gradient(135deg, #00A9FF 0%, #00FFA3 100%);\n    }\n    \n    .notification.error {\n        background: linear-gradient(135deg, #FF3366 0%, #FF6B6B 100%);\n    }\n    \n    .animate {\n        animation: fadeInUp 0.6s ease forwards;\n    }\n    \n    @keyframes fadeInUp {\n        from {\n            opacity: 0;\n            transform: translateY(20px);\n        }\n        to {\n            opacity: 1;\n            transform: translateY(0);\n        }\n    }\n`;document.head.appendChild(style);function animateStats(){const statNumbers=document.querySelectorAll(".stat-number");statNumbers.forEach((stat=>{const endValue=parseInt(stat.getAttribute("data-value"),10);let startValue=0;const duration=1200;const stepTime=Math.max(Math.floor(duration/endValue),10);const increment=Math.ceil(endValue/(duration/stepTime));let current=startValue;function update(){current+=increment;if(current>endValue)current=endValue;stat.textContent=current;if(current<endValue){setTimeout(update,stepTime)}}update()}))}let statsAnimated=false;window.addEventListener("scroll",(()=>{if(statsAnimated)return;const heroStats=document.querySelector(".hero-stats");if(heroStats){const rect=heroStats.getBoundingClientRect();if(rect.top<window.innerHeight&&rect.bottom>0){animateStats();statsAnimated=true}}}));const backToTop=document.getElementById("back-to-top");window.addEventListener("scroll",(()=>{if(window.scrollY>300){backToTop.classList.add("show")}else{backToTop.classList.remove("show")}}));backToTop.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}));backToTop.addEventListener("keydown",(e=>{if(e.key==="Enter"||e.key===" "){e.preventDefault();window.scrollTo({top:0,behavior:"smooth"})}}));const scrollIndicator=document.querySelector(".scroll-indicator");if(scrollIndicator){scrollIndicator.addEventListener("click",(()=>{const nextSection=document.querySelector("section#services");if(nextSection){nextSection.scrollIntoView({behavior:"smooth"})}}))}const darkModeToggle=document.getElementById("darkModeToggle");const prefersDark=window.matchMedia("(prefers-color-scheme: dark)").matches;function setDarkMode(enabled){document.body.classList.toggle("dark-mode",enabled);darkModeToggle.setAttribute("aria-pressed",enabled);const icon=darkModeToggle.querySelector("i");if(enabled){icon.classList.remove("fa-moon");icon.classList.add("fa-sun")}else{icon.classList.remove("fa-sun");icon.classList.add("fa-moon")}}function getStoredDarkMode(){return localStorage.getItem("darkMode")==="true"}function storeDarkMode(enabled){localStorage.setItem("darkMode",enabled)}const initialDark=getStoredDarkMode();setDarkMode(initialDark);darkModeToggle.setAttribute("aria-pressed",initialDark);darkModeToggle.addEventListener("click",(()=>{const isDark=document.body.classList.toggle("dark-mode");setDarkMode(isDark);storeDarkMode(isDark)}));const skipLink=document.querySelector(".skip-link");if(skipLink){skipLink.addEventListener("focus",(()=>{skipLink.style.position="static";skipLink.style.left="0";skipLink.style.top="0";skipLink.style.background="#fff";skipLink.style.color="#181a20";skipLink.style.zIndex="10000";skipLink.style.padding="1em 2em";skipLink.style.display="inline-block"}));skipLink.addEventListener("blur",(()=>{skipLink.style=""}))}if("serviceWorker"in navigator){window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js").then((function(registration){}),(function(err){}))}))}